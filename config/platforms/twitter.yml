# ============================================================
# Zpravobot NG: Platform Configuration - Twitter/X
# ============================================================
# V√Ωchoz√≠ nastaven√≠ pro v≈°echny Twitter/X zdroje.
# P≈ôepisuje hodnoty z global.yml.
# Jednotliv√© zdroje mohou p≈ôepsat jak√©koliv nastaven√≠.
# ============================================================

# ------------------------------------------------------------
# SOURCE - Konfigurace zdroje dat
# ------------------------------------------------------------
source:
  nitter_instance: "http://xn.zpravobot.news:8080"

# ------------------------------------------------------------
# FILTERING - Filtrov√°n√≠ obsahu
# ------------------------------------------------------------
filtering:
  skip_replies: true                # P≈ôeskoƒçit ciz√≠ odpovƒõdi
  skip_self_replies: false          # Povolit vlastn√≠ odpovƒõdi (vl√°kna)
  skip_retweets: false              # P≈ôeskoƒçit retweety
  skip_quotes: false                # P≈ôeskoƒçit quote tweety
  allow_self_retweets: true         # Povolit retweety vlastn√≠ch tweet≈Ø
  banned_phrases: []                # Seznam zak√°zan√Ωch fr√°z√≠
  required_keywords: []             # Po≈æadovan√° kl√≠ƒçov√° slova

# ------------------------------------------------------------
# THREAD HANDLING - Zpracov√°n√≠ vl√°ken
# ------------------------------------------------------------
thread_handling:
  mode: 'individual'                # Re≈æim zpracov√°n√≠ vl√°ken
  fetch_context: false              # Naƒç√≠tat kontext z HTML
  show_indicator: true              # Zobrazit üßµ indik√°tor
  indicator_position: 'end'         # Pozice indik√°toru: start / end
  cache_enabled: true               # Pou≈æ√≠t cache pro kontext vl√°ken
  cache_ttl_hours: 2                # TTL cache v hodin√°ch

# ------------------------------------------------------------
# NITTER PROCESSING - Zpracov√°n√≠ p≈ôes Nitter (Tier 2)
# ------------------------------------------------------------
# Tier 2 (Nitter fetch) lze zak√°zat pro zdroje, kde staƒç√≠ Tier 1
# Pou≈æit√≠: sportovn√≠ boty, m√©nƒõ d≈Øle≈æit√© zdroje, sn√≠≈æen√≠ z√°tƒõ≈æe
#
# enabled: true   - Nitter fetch povolen (default)
# enabled: false  - Pouze Tier 1 (IFTTT data), ≈æ√°dn√© Nitter requesty
#                   V√Ωhody: rychlej≈°√≠, nulov√° z√°tƒõ≈æ Nitter
#                   Nev√Ωhody: max 1 obr√°zek, mo≈æn√© zkr√°cen√© texty
nitter_processing:
  enabled: true

# ------------------------------------------------------------
# FORMATTING - Form√°tov√°n√≠ v√Ωstupu
# ------------------------------------------------------------
# Sjednocen√° struktura post≈Ø nap≈ô√≠ƒç platformami:
#
# S headerem (repost/quote):
#   header + "\n" + prefix_post_text + text + "\n" + prefix_post_url + url
#
# Bez headeru (regular):
#   [prefix_post_text if != "\n"] + text + "\n" + prefix_post_url + url
#
formatting:
  platform_emoji: "ùïè"               # Emoji platformy v p≈ô√≠spƒõvku
  prefix_repost: "ùïèüîÅ"              # Prefix pro reposty
  prefix_quote: "ùïèüí¨"               # Prefix pro quote tweety
  prefix_thread: "üßµ"               # Prefix pro vl√°kna
  prefix_video: "üé¨"                # Prefix pro videa
  prefix_self_reference: "sv≈Øj post" # Text pro self-reference m√≠sto @username
  move_url_to_end: false            # NEP≈òESOUVAT URL na konec
  
  # Sjednocen√© prefixy
  prefix_post_text: "\n"            # Prefix p≈ôed textem (extra ≈ô√°dek za headerem)
  prefix_post_url: "\n"             # Prefix p≈ôed URL
  
  # Zpracov√°n√≠ citovan√Ωch tweet≈Ø
  include_quoted_text: false        # Zahrnout text citovan√©ho tweetu
  quoted_text_max_chars: 80         # Max d√©lka citovan√©ho textu
  
  # Lokalizovan√© texty pro self-reference
  self_reference_texts:
    cs: "sv≈Øj post"
    sk: "vlastn√Ω pr√≠spevok"
    en: "own post"

  # URL rewriting
  url_domain: "nitter.net"
  rewrite_domains:
    - "twitter.com"
    - "x.com"
    - "xn.zpravobot.news"
    - "xcancel.com"

# ------------------------------------------------------------
# URL - √öprava odkaz≈Ø
# ------------------------------------------------------------
url:
  domain: "nitter.net"
  replace_from:
    - "https://twitter.com/"
    - "https://x.com/"
  replace_to: "https://nitter.net/"

# ------------------------------------------------------------
# MENTIONS - Zpracov√°n√≠ zm√≠nek
# ------------------------------------------------------------
mentions:
  type: "domain_suffix"
  value: "twitter.com"

# ------------------------------------------------------------
# PROCESSING - Zpracov√°n√≠ textu
# ------------------------------------------------------------
processing:
  max_length: 2400                  # Maxim√°ln√≠ d√©lka fin√°ln√≠ho p≈ô√≠spƒõvku
  trim_strategy: "smart"            # Strategie zkracov√°n√≠
  smart_tolerance_percent: 12       # Tolerance pro smart trimming (%)

# ------------------------------------------------------------
# SCHEDULING - Pl√°nov√°n√≠ stahov√°n√≠
# ------------------------------------------------------------
scheduling:
  priority: normal
  interval_minutes: 15
  max_posts_per_run: 10

# ------------------------------------------------------------
# PROFILE SYNC - Synchronizace profilu
# ------------------------------------------------------------
profile_sync:
  retention_days: 90
